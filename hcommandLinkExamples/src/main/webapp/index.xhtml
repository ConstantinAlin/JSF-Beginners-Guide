<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>JSF commandLink examples</title>
        <style type="text/css">
            a{margin:3px;}
            .linkcss{
                background-color: green;
                color:yellow;
                padding:4px;
            }
        </style>
        <script type="text/javascript">
            function clickJSFLink() {
                document.getElementById("myFormId:nameHiddenId").value = "Rafael Nadal";
                document.getElementById("myFormId:emailHiddenId").value = "rafa@rg.com";
                if (confirm('Are you sure you want to submit the JSF form ?')) {
                    document.getElementById("myFormId:btnId").click();
                }
            }
        </script>
        <f:metadata>
            <f:viewParam name="ccp" value="#{playerBean.countrycode}"/>
            <f:viewParam name="wup" value="#{playerBean.weburl}"/>
        </f:metadata>
    </h:head>
    <h:body>
        <!-- Basic/common usage (I) -->
        <!-- Submit form, but don't invoke a method bean and navigate back to this page -->
        <strong>Example 1:</strong> Basic/common usage (I) - Submit form, but don't invoke a method bean and navigate back to this page <hr/>
        <span>Name: #{playerBean.name} | E-mail: #{playerBean.email}</span>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send"/>
        </h:form>
        <hr/><br/>

        <!-- Basic/common usage (II) -->
        <!-- Submit form, invoke a method bean and navigate to this page -->
        <strong>Example 2:</strong> Basic/common usage (II) - Submit form, invoke a method bean and navigate to this page <hr/>
        <span>Name: #{playerBean.name} | E-mail: #{playerBean.email}</span>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send" action="#{playerBean.save()}"/>
        </h:form>
        <hr/><br/>

        <!-- Basic/common usage (III) -->
        <!-- Submit form, but don't invoke a method bean and navigate to 'data.xhtml' page -->
        <strong>Example 3:</strong> Basic/common usage (III) - Submit form, but don't invoke a method bean and navigate to 'data.xhtml' page <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send" action="data"/>
        </h:form>
        <hr/><br/>

        <!-- Submit form, but don't invoke a method bean and navigate to 'data.xhtml' page with redirect (POST-GET-REDIRECT) -->
        <strong>Example 4:</strong> Submit form, but don't invoke a method bean and navigate to 'data.xhtml' page with redirect (POST-GET-REDIRECT) <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send" action="data?faces-redirect=true"/>
        </h:form>
        <hr/><br/>

        <!-- Submit form, invoke a method bean and navigate to 'data.xhtml' page from method -->
        <strong>Example 5:</strong> Submit form, invoke a method bean and navigate to 'data.xhtml' page from method <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send" action="#{playerBean.saveAndGo()}"/>
        </h:form>
        <hr/><br/>

        <!-- Use 'style' attribute to add custom styles to a link -->
        <strong>Example 6:</strong> Use 'style' attribute to add custom styles to a link <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send" action="data" style="background-color: green; color:yellow;padding:4px;"/>
        </h:form>
        <hr/><br/>

        <!-- Use 'styleClass' attribute to add custom styles to a link -->
        <strong>Example 7:</strong> Use 'styleClass' attribute to add custom styles to a link <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send" action="data" styleClass="linkcss"/>
        </h:form>
        <hr/><br/>

        <!-- Disabled link (will render a span element) -->
        <strong>Example 8:</strong> Disabled link (will render a span element) <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send" action="data" disabled="true"/>
        </h:form>
        <hr/><br/>

        <!-- Use of 'actionListener' -->
        <strong>Example 9:</strong> Use of 'actionListener' <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send" actionListener="#{playerBean.save}"/>
        </h:form>
        <hr/><br/>

        <!-- Use of 'actionListener' and 'action' (I) -->
        <strong>Example 10:</strong> Use of 'actionListener' and 'action' (I) <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send" actionListener="#{playerBean.save}" action="data"/>
        </h:form>
        <hr/><br/>

        <!-- Use of 'actionListener' and 'action' (II) -->
        <strong>Example 11:</strong> Use of 'actionListener' and 'action' (II) <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send" actionListener="#{playerBean.save}" action="#{playerBean.save()}"/>
        </h:form>
        <hr/><br/>

        <!-- Use of 'f:actionListener' -->
        <strong>Example 12:</strong> Use of 'f:actionListener' <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send">
                <f:actionListener type="beans.PlayerActionListener"/>
            </h:commandLink>
        </h:form>
        <hr/><br/>

        <!-- Use of 'actionListener', 'f:actionListener' and 'action' -->
        <strong>Example 13:</strong> Use of 'actionListener', 'f:actionListener' and 'action' <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send" actionListener="#{playerBean.save}" action="#{playerBean.save()}">
                <f:actionListener type="beans.PlayerActionListener"/>
            </h:commandLink>
        </h:form>
        <hr/><br/>

        <!-- Use of 'f:setPropertyActionListener' -->
        <strong>Example 14:</strong> Use of 'f:setPropertyActionListener' <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send" action="data">
                <f:setPropertyActionListener target="#{playerBean.countrycode}" value="ro" />
                <f:setPropertyActionListener target="#{playerBean.weburl}" value="http://www.rafaelnadal.com" />
            </h:commandLink>
        </h:form>
        <hr/><br/>

        <!-- 'Cancel' like link using 'immediate' attribute (reset inputs to empty strings) -->
        <strong>Example 15:</strong> 'Cancel' like link using 'immediate' attribute (reset inputs to empty strings) <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}" validator="myValidator"/>
            <h:commandLink value="Send" action="data"/>
            <h:commandLink value="Reset" immediate="true" action="#{playerBean.resetWithImmediate()}"/>
        </h:form>
        <h:messages style="color:red;"/>
        <hr/><br/>

        <!-- Pass extra parameters via 'f:param' -->
        <strong>Example 16:</strong> Pass extra parameters via 'f:param' <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send" action="#{playerBean.saveAndParam()}">
                <f:param name="playerCountryCode" value="RO"/>
                <f:param name="playerWeburl" value="http://www.rafaelnadal.com"/>
            </h:commandLink>
        </h:form>
        <hr/><br/>

        <!-- Assign the value of the attribute named 'value' of a 'h:commandLink' tag via 'f:attribute' -->
        <strong>Example 17:</strong> Assign the value of the attribute named 'value' of a 'h:commandLink' tag via 'f:attribute' <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink action="data">
                <f:attribute name="value" value="Send" />
            </h:commandLink>
        </h:form>
        <hr/><br/>

        <!-- Pass extra parameters via 'f:attribute' -->
        <strong>Example 18:</strong> Pass extra parameters via 'f:attribute' <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send" actionListener="#{playerBean.saveAndAttributes}" action="data">
                <f:attribute id="playerCountryCode" name="playerCountryCodeAttr" value="RO"/>
                <f:attribute id="playerWeburl" name="playerWeburlAttr" value="http://www.rafaelnadal.com"/>
            </h:commandLink>
        </h:form>
        <hr/><br/>

        <!-- Include view parameters in redirect -->
        <strong>Example 19:</strong> Include view parameters in redirect <hr/>
        <h:form>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Submit" action="data?faces-redirect=true&amp;includeViewParams=true"/>
        </h:form>
        <hr/><br/>

        <!-- Simple AJAX submit -->
        <strong>Example 20:</strong> Simple AJAX submit <hr/>
        <h:form>
            <span>Name: #{playerBean.name} | E-mail: #{playerBean.email}</span><br/>
            Name: <h:inputText value="#{playerBean.name}"/>
            E-mail: <h:inputText value="#{playerBean.email}"/>
            <h:commandLink value="Send" action="#{playerBean.save()}">
                <f:ajax execute="@form" render="@form"/>
            </h:commandLink>
        </h:form>
        <hr/><br/>

        <!-- Simple AJAX partial submit (only the player name and e-mail will be submitted) -->
        <strong>Example 21:</strong> Simple AJAX partial submit (only the player name and e-mail will be submitted) <hr/>
        <h:form>
            <span>Name: #{playerBean.name} | E-mail: #{playerBean.email} | Age: #{playerBean.age}</span><br/>
            Name: <h:inputText id="nameId" value="#{playerBean.name}"/>
            E-mail: <h:inputText id="emailId" value="#{playerBean.email}"/>
            Age: <h:inputText id="ageId" value="#{playerBean.age}"/>
            <h:commandLink value="Send" action="#{playerBean.save()}">
                <f:ajax execute="nameId emailId" render="@form"/>
            </h:commandLink>
        </h:form>
        <hr/><br/>

        <!-- Simple 'Cancel' AJAX link -->
        <strong>Example 22:</strong> Simple 'Cancel' AJAX link <hr/>
        <h:form>
            <span>Name: #{playerBean.name} | E-mail: #{playerBean.email} | Age: #{playerBean.age}</span><br/>
            Name: <h:inputText id="nameId" value="#{playerBean.name}"/>
            E-mail: <h:inputText id="emailId" value="#{playerBean.email}"/>
            Age: <h:inputText id="ageId" value="#{playerBean.age}"/>
            <h:commandLink value="Send" action="#{playerBean.save()}">
                <f:ajax execute="@form" render="@form"/>
            </h:commandLink>
            <h:commandLink value="Cancel">
                <f:ajax execute="@this" render="@form"/>
            </h:commandLink>
        </h:form>
        <hr/><br/>

        <!-- 'Cancel' AJAX link with reset to a set of default values (empty strings) -->
        <strong>Example 23:</strong> 'Cancel' AJAX link with reset to a set of default values (empty strings) <hr/>
        <h:form>
            <span>Name: #{playerBean.name} | E-mail: #{playerBean.email} | Age: #{playerBean.age}</span><br/>
            Name: <h:inputText id="nameId" value="#{playerBean.name}"/>
            E-mail: <h:inputText id="emailId" value="#{playerBean.email}"/>
            Age: <h:inputText id="ageId" value="#{playerBean.age}"/>
            <h:commandLink value="Send" action="#{playerBean.save()}">
                <f:ajax execute="@form" render="@form"/>
            </h:commandLink>
            <h:commandLink value="Cancel" action="#{playerBean.reset()}">
                <f:ajax execute="@this" render="@form"/>
            </h:commandLink>
        </h:form>
        <hr/><br/>

        <!-- Submit form via JavaScript (the JSF link is not visible) -->
        <strong>Example 24:</strong> Submit form via JavaScript (the JSF link is not visible) <hr/>
        <input type="button" value="Fake Command" onclick="clickJSFLink();"/>
        <h:form id="myFormId">
            <h:inputHidden id="nameHiddenId" value="#{playerBean.name}"/>
            <h:inputHidden id="emailHiddenId" value="#{playerBean.email}"/>
            <h:commandLink id="btnId" value="Send" action="data" style="display:none;"/>
        </h:form>
        <hr/><br/>
    </h:body>
</html>
